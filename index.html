<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Rock Paper Scissors</title>
	<link href="./style.css" rel="stylesheet">
</head>
<body>
	
	<section class="player">
		<div class="rock">
			<p>rock</p>
		</div>
		<div class="paper">
			<p>paper</p>
		</div>
		<div class="scissors">
			<p>scissors</p>
		</div>
	</section>
	<section class="versus">
		<div>
			<p>VS</p>
		</div>
	</section>
	<section class="computer">
		<div class="rock">
			<p>rock</p>
		</div>
		<div class="paper">
			<p>paper</p>
		</div>
		<div class="scissors">
			<p>scissors</p>
		</div>
	</section>
	<script>
		
		// Setup score counters
		let pcScore = 0;
		let playerScore = 0;
		// The AI selects a move based on RNG
		function computerPlay() {
			let randNum = Math.floor(Math.random() * Math.floor(3));
			// If the number is less than 1 (i.e. 0) 
			if (randNum < 1) {
				return "rock";
			} else if (randNum === 1) {
				return "paper";
			} else {
				return "scissors";
			}
		}
		
		// Function that plays one round of the game with ternary logic
		function playRoundTernary (playerSelection, computerSelection) {
			let player = playerSelection.toLowerCase();
			// handler for player inputting non-valid values
			if (player !== "rock" || player !== "paper" || player !== "scissors") {
				return "You cannot play rock, paper, scissors with that!";
			}
			let pc = computerSelection;
			
			// The game logic is handled by ternary operators
			// The logic's order is always win, tie, loss
			return (player === "rock") ? 
				// Handle player selecting rock
				(pc === "scissors") ? "You win! Rock defeats scissors!" :
				(pc === "rock") ? "It's a tie! Rock vs. rock!" :
				"You lose! Rock is defeated by paper!" :
			(player === "paper") ?
				// Handle player selecting paper
				(pc === "rock") ? "You win! Paper defeats rock!" :
				(pc === "paper") ? "It's a tie! Paper vs. paper!" :
				"You lose! Paper is defeated by scissors!" :
				// Handle the remaining case, scissors
				(pc === "paper") ? "You win! Scissors defeats paper!" :
				(pc === "scissors") ? "It's a tie! Scissors vs. scissors!":
				"You lose! Scissors is defeated by rock!"
				;
		}
		
		// Function that plays the game and updates the score
		function playRound(playerInput, pcInput) {
			let player = playerInput.toLowerCase();
			console.log(player);
			// Handle player inputting non valid values
			if (player != "rock" && player != "paper" && player != "scissors") {
				return "You cannot play rock, paper, scissors with that!";
			}
			let pc = pcInput;
			
			if (player === "rock") {
				if (pc === "scissors") {
					playerScore++;
					return "You win! Rock over scissors!";
				} else if (pc === "rock") {
					return "It's a tie! Rock vs. rock!";
				} else {
					pcScore++;
					return "You lose! Rock against paper!";
				}
			} else if (player === "paper") {
				if (pc === "rock") {
					playerScore++;
					return "You win! Paper over rock!";
				} else if (pc === "paper") {
					return "It's a tie! Paper vs. paper!";
				} else {
					pcScore++;
					return "You lose! Paper against scissors!";
				}
			} else {
				if (pc === "paper") {
					playerScore++;
					return "You win! Scissors over paper!";
				} else if (pc === "scissors") {
					return "It's a tie! scissors vs. scissors!";
				} else {
					pcScore++;
					return "You lose! Scissors against Rock!";
				}
			}
		}
		
		// Function that prints current score
		function displayScore(playerScore, pcScore){
			return "Player: " + playerScore + ", Computer: " + pcScore;
		}
		
		// Function that plays a first to three
		function game() {
			playerScore = 0;
			pcScore = 0;
			
			do {
				// Ask for player's choice and define pc's move
				let playerInput = prompt("Choose one: rock, paper, or scissors", "rock");
				let pcInput = computerPlay();
				
				// Play a round of the game and print the scores
				console.log(playRound(playerInput, pcInput));
				console.log(displayScore(playerScore, pcScore));
				
			} while (playerScore < 3 && pcScore < 3);
			
			// check who won and print the winner
			if (playerScore > pcScore) {
				console.log("Congratulations! You win!");
			} else {
				console.log("You lost! Better luck next time!");
			}
		}
		
		// Run the game 
		game();
		
	</script>
</body>
</html>
